<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>

  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="stylesheet" href="../assets/css/register.css">
  <link rel="stylesheet" href="../assets/css/dashboard.css">
</head>

<!-- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ class à¸•à¸£à¸‡à¸™à¸µà¹‰ -->
<body class="mode-free">
<!-- <body class="mode-member"> -->

<!-- ===== Sidebar ===== -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-top">
    <div class="logo">
      <img src="../assets/logo.png" alt="Idea Trade Logo">
    </div>
  </div>

  <div class="sidebar-menu">
    <ul class="menu">
      <li data-page="dashboard" class="active">ğŸ  <span>Dashboard</span></li>
      <li data-page="project">ğŸ“ <span>Project</span></li>
      <li data-page="signal">ğŸ“ˆ <span>Signal</span></li>
    </ul>
  </div>

  <div class="sidebar-bottom">
    <ul class="menu">
      <li data-page="billing">ğŸ’³ <span>Billing</span></li>
      <li data-page="settings">âš™ï¸ <span>Settings</span></li>
    </ul>

    <div class="sidebar-logout">
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
  </div>
</aside>

<!-- ===== Main ===== -->
<main class="main">
  <div class="top-bar">
    <div>Status: Online</div>
  </div>

  <section class="content" id="content"></section>
</main>

<!-- ===== Project Content (Template) ===== -->
<div id="project-template" style="display:none;">
  <div class="project-grid">

    <!-- FREE -->
    <div class="project-card">
      <h3>MIT</h3>
      <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.</p>
      <button class="project-btn open-btn"
    onclick="openProject('project-crypto.html', true)">
        Open Project â†’
      </button>
    </div>
    
    <div class="project-card">
      <h3>Stock Mover</h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn open-btn"
    onclick="openProject('project-crypto.html', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card">
      <h3>Cal DR</h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn open-btn"
    onclick="openProject('project-crypto.html', true)">
        Open Project â†’
      </button>
    </div>

    <!-- MEMBER -->
    <div class="project-card member-project">
      <h3>à¸«à¸¡à¸­à¸”à¸¹à¸«à¸¸à¹‰à¸™<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>Petroleum<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>Rubber Thai<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>Flow Intraday<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>S50<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>Gold<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>BidAsk<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>TickMatch<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

    <div class="project-card member-project">
      <h3>DR<span class="crown">ğŸ‘‘</span></h3>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
      <button class="project-btn premium-btn"
        onclick="openProject('', true)">
        Open Project â†’
      </button>
    </div>

  </div>
</div>

<script>
const content = document.getElementById("content");
const menuItems = document.querySelectorAll(".menu li");
const projectTemplate = document.getElementById("project-template");
const params = new URLSearchParams(window.location.search);
const role = params.get("role") || "free";

/* à¹€à¸à¹‡à¸š role à¹„à¸§à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸™à¹‰à¸² */
document.body.classList.add(role === "member" ? "role-member" : "role-free");

/* à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ content à¸•à¸²à¸¡ menu */
function loadPage(page) {
  if (page === "project") {
    content.innerHTML = projectTemplate.innerHTML;
    return;
  }

  const fallback = {
    dashboard: "No content in dashboard page",
    signal: "No content in Signal page",
    billing: "No content in Billing page",
    settings: "No content in Settings page"
  };

  content.innerHTML = fallback[page] || "No content";
}

/* à¹€à¸›à¸´à¸”à¹‚à¸›à¸£à¹€à¸ˆà¸„ */
function openProject(url, isMemberProject) {
  const isFree = document.body.classList.contains("mode-free");

  if (isFree && isMemberProject) {
    location.href = "upgrade.html";
    return;
  }

  location.href = url;
}

/* logout */
function logout() {
  location.href = "welcome.html";
}

/* menu click */
menuItems.forEach(item => {
  item.addEventListener("click", () => {
    const page = item.dataset.page;

    menuItems.forEach(i => i.classList.remove("active"));
    item.classList.add("active");

    loadPage(page);
  });
});

/* default */
loadPage("dashboard");
</script>

</body>
</html>
